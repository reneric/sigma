jQuery(function($){function moveStop(){els.removeClass("draggable")}function move(e,t){e.css("-webkit-transform","translate3d("+t+"px,0,0)").addClass("draggable")}function init(){var e=$("header#masthead").height(),t=$(window).height(),n=$("footer").height();$("#primary").height();var s=$("article.page").height(),r=$("ul.bonus").height(),o=e+s,a=t-n,l=t-n;$("#primary").css("minHeight",r+80+"px"),$(".top-scroll-wrap").css("maxHeight",o+0+"px"),$(".top-scroll-wrap").css("height",a-20+"px"),$(".top-scroll").css("height",l-20+"px")}function fader(){var e=$(".top-scroll-wrap").height(),t=$(".top-scroll").height();t>e?$("span.fade").addClass("hidden"):$("span.fade").removeClass("hidden")}function resize(){var e=$("header#masthead").height(),t=$("body").height(),n=$("footer").height();$("#primary").height();var s=$("article.page").height(),r=e+s,o=t-n,a=t-n;$(".top-scroll-wrap").css("maxHeight",r+30+"px"),$(".top-scroll-wrap").css("height",o-20+"px"),$(".top-scroll").css("height",a-20+"px"),fader()}function navWidth(){var e=$("footer div.inner").width();$(".ie8 footer div.inner nav#footer-navigation").css("width",e-200+"px")}function CSS3MultiColumn(){function loadStylesheets(){if(document.styleSheets){for(var e=0;e<document.styleSheets.length;e++)cssCache[document.styleSheets[e].href]=!1;for(var e=0;e<document.styleSheets.length;e++)loadCssCache(document.styleSheets[e],"parseStylesheets")}else if(document.getElementsByTagName){for(var t=document.getElementsByTagName("link"),e=0;e<t.length;e++)cssCache[t[e].href]=!1;for(var e=0;e<t.length;e++)loadCssCache(t[e],"parseStylesheets")}}function loadCssCache(s,callback){if(s.href&&s.cssText&&(cssCache[s.href]=s.cssText,eval(callback)()),s.href&&"undefined"!=typeof XMLHttpRequest){var xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&("undefined"==typeof xmlhttp.status||200==xmlhttp.status||304==xmlhttp.status)&&(cssCache[s.href]=xmlhttp.responseText,eval(callback)())},xmlhttp.open("GET",s.href,!0),xmlhttp.send(null)}}function parseStylesheets(){var e=!0;for(var t in cssCache)0!=cssCache[t]?parseStylesheet(cssCache[t]):e=!1;e&&processElements()}function parseStylesheet(e){for(var t=new ut.getPseudoCssRules("column-count",e),n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-count"]=t.cssRules[n].value;t=new ut.getPseudoCssRules("column-width",e);for(var n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-width"]=t.cssRules[n].value;t=new ut.getPseudoCssRules("column-gap",e);for(var n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-gap"]=t.cssRules[n].value;t=new ut.getPseudoCssRules("column-rule",e);for(var n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-rule"]=t.cssRules[n].value}function processElements(){if(documentReady)for(var e in pseudoCSSRules){debug(e+" cc:"+pseudoCSSRules[e]["column-count"]+" cw:"+pseudoCSSRules[e]["column-width"]+" cr:"+pseudoCSSRules[e]["column-rule"]+" cg:"+pseudoCSSRules[e]["column-gap"]);for(var t=ut.cssQuery(e),n=0;n<t.length;n++)processElement(t[n],pseudoCSSRules[e]["column-count"],pseudoCSSRules[e]["column-width"],pseudoCSSRules[e]["column-gap"],pseudoCSSRules[e]["column-rule"])}}function processElement(e,t,n,s,r){var o,a,l=0;if(e.clientWidth&&0!=e.clientWidth){var i;e.currentStyle?i=parseInt(e.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(i=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(i)&&(i=0),a=(e.clientWidth-i).toString()+"px"}else if(e.scrollWidth){var d,i;e.currentStyle?i=parseInt(e.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(i=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(i)&&(i=0),e.currentStyle?d=parseInt(e.currentStyle.borderLeftWidth.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.borderRightWidth.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(d=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("border-left-width").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("border-right-width").replace(/[\D]*/gi,""))),isNaN(d)&&(d=0),a=(e.scrollWidth-i-d).toString()+"px"}else a="99%";var u=parseInt(a.replace(/[\D]*/gi,""));o=n&&"auto"!=n?n.replace(/[\d]*/gi,""):a.replace(/[\d]*/gi,""),o||(o="px"),s=s?parseInt(s.replace(/[\D]*/gi,"")):"%"==o?1:15,r&&"none"!=r&&(s=Math.floor(s/2),l=s+parseInt(r.substring(r.search(/\d/),r.search(/\D/)))),n&&"auto"!=n?(n=parseInt(n.replace(/[\D]*/gi,"")),t&&"auto"!=t||(t=Math.floor(u/(n+s)))):n=(u-(s+l)*(t-1))/t,n-=1;var c=document.createElement("div"),p=e.parentNode;c=p.insertBefore(c,e);var f=p.removeChild(e);f=c.appendChild(f),c.className=f.className,f.className="",f.id=ut.randomId(),f.style.width=n.toString()+o,"undefined"!=typeof f.style.styleFloat&&(f.style.styleFloat="left"),"undefined"!=typeof f.style.cssFloat&&(f.style.cssFloat="left");var g=Math.floor(f.offsetHeight/t)+14;c.id||(c.id=ut.randomId());for(var h=1,m=1;t>m&&f&&t+5>h;m++)bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(f,g*m,c),isDebug&&(bestSplitPoint.style.border="1px solid #00FF00"),bestSplitPoint&&!isElementSplitable(bestSplitPoint)?(g=getElementRelativeTop(bestSplitPoint,c)+bestSplitPoint.offsetHeight+10,m=1,debug("reset new Height = "+g+" relativetop="+getElementRelativeTop(bestSplitPoint,c)+" offsetHeight= "+bestSplitPoint.offsetHeight)):bestSplitPoint||debug("No split point found with "+g),h++;debug("<table><tr><td>Avail. Width</td><td>"+u+"</td><td>Units</td><td>"+o+"</td></tr><tr><td>column_width</td><td>"+n+"</td><td>column_count</td><td>"+t+"</td></tr><tr><td>column_gap</td><td>"+s+"</td><td>column_rule</td><td>"+r+"</td></tr><tr><td>New Height</td><td>"+g+"</td><td></td><td></td></tr></table>");for(var m=1;t>m&&f;m++){if(bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(f,g,c),bestSplitPoint&&isElementSplitable(bestSplitPoint)&&f.id!=bestSplitPoint.id){var v=bestSplitPoint;isDebug&&(secondSplitPoint.style.border="1px dotted #00F")}else var v=secondSplitPoint;if(!v)return debug("<hr />No split point found for "+f.tagName+" "+g),void 0;isDebug&&(v.style.border="1px solid #F00");var S=f.cloneNode(!1);S.id=ut.randomId(),f.parentNode.insertBefore(S,f.nextSibling),S.style.paddingLeft=s+o,r&&"none"!=r&&(S.style.borderLeft=r,f.style.paddingRight=s+o),document.all&&!window.opera&&(f.style.height=g+"px"),f.style.minHeight=g+"px",createNodeAncestors(v,f,S,"append");for(var y=v;y&&y.id!=f.id;){for(var b=y.nextSibling;b;)moveNode(b,f,S),b=y.nextSibling;y=y.parentNode}for(var C=splitElement(v,g-getElementRelativeTop(v,c),f,S),p=v.parentNode;p&&p.id!=f.id;){for(var w=p.firstChild;w;)1==w.nodeType&&0==w.childNodes.length||3==w.nodeType&&""==w.nodeValue.replace(/[\u0020\u0009\u000A]*/,"")?(p.removeChild(w),w=p.firstChild):w=w.nextSibling;p=p.parentNode}if(C&&(v=f.lastChild,v&&document.defaultView&&"justify"==document.defaultView.getComputedStyle(v,"").getPropertyValue("text-align")||v.currentStyle&&"justify"==v.currentStyle.textAlign)){var N=document.createTextNode(" "+C.replace(/./g,"Â ")),x=document.createElement("span");v.appendChild(x),x.style.lineHeight="1px",x.appendChild(N)}f=S}f&&(document.all&&!window.opera&&(f.style.height=g+"px"),f.style.minHeight=g+"px");var R=document.createElement("div");R.style.clear="left",R.appendChild(document.createTextNode(" ")),c.appendChild(R),navigator.userAgent.toLowerCase().indexOf("safari")+1&&(c.innerHTML+=" ")}function findSplitPoint(e,t,n){if(1==e.nodeType){var s=getElementRelativeTop(e,n),r=s+e.offsetHeight;if(t>s&&r>t){if(bestSplitPoint=e,isElementSplitable(e))for(var o=0;o<e.childNodes.length;o++)findSplitPoint(e.childNodes[o],t,n);return}t>=r&&r>=secondSplitBottom&&(secondSplitBottom=r,secondSplitPoint=e)}}function isElementSplitable(e){if(e.tagName)for(var t=e.tagName.toUpperCase(),n=0;n<splitableTags.length;n++)if(t==splitableTags[n])return!0;return!1}function splitElement(e,t,n,s){for(var r=e.lastChild;r;){if(3==r.nodeType){for(var o="dummmy",a="";e.offsetHeight>t+2&&""!=o;)o=stripOneLine(r),a=o+a;if(""!=a){var l=createNodeAncestors(r,n,s,"insertBefore");l.insertBefore(document.createTextNode(a),l.firstChild)}if(""!=r.nodeValue)break;r.parentNode.removeChild(r)}else{var l=createNodeAncestors(r,n,s,"insertBefore");l.insertBefore(r.parentNode.removeChild(r),l.firstChild)}r=e.lastChild}return o}function stripOneLine(e){for(;e&&3!=e.nodeType;)e=e.firstChild;if(e){var t=e.parentNode,n=t.offsetHeight;if(!n)return"";for(var s=e.nodeValue,r=e.nodeValue.lastIndexOf(" ");-1!=r&&t.offsetHeight==n;)e.nodeValue=e.nodeValue.substr(0,r),r=e.nodeValue.lastIndexOf(" "),-1==r&&(r=e.nodeValue.lastIndexOf("\n"));return t.offsetHeight==n&&(e.nodeValue=""),s.substr(e.nodeValue.length)}}function createNodeAncestors(e,t,n,s){for(var r=new Array,o=n,a=e.parentNode;a&&a.id!=t.id;)r[r.length]=a,a.id||(a.id=ut.randomId()),a=a.parentNode;for(var l=r.length-1;l>=0;l--){for(var i=0;i<o.childNodes.length&&(3==o.childNodes[i].nodeType||!o.childNodes[i].className.match(r[l].id+"-css3mc"));i++);if(i==o.childNodes.length){if(o="append"==s?o.appendChild(document.createElement(r[l].tagName)):o.insertBefore(document.createElement(r[l].tagName),o.firstChild),o.className=r[l].className+" "+r[l].id+"-css3mc",o.style.marginTop="0",o.style.paddingTop="0","OL"==o.tagName.toUpperCase()&&1==e.nodeType&&"LI"==e.tagName.toUpperCase()){for(var d=e.previousSibling,u=0;d;)1==d.nodeType&&"LI"==d.tagName.toUpperCase()&&u++,d=d.previousSibling;o.setAttribute("start",u)}}else if(o=o.childNodes[i],"OL"==o.tagName.toUpperCase()&&(-1==o.start||1==o.start)&&1==e.nodeType&&"LI"==e.tagName.toUpperCase()){for(var d=e.previousSibling,u=0;d;)1==d.nodeType&&"LI"==d.tagName.toUpperCase()&&u++,d=d.previousSibling;o.setAttribute("start",u)}}return o}function moveNode(e,t,n){var s=createNodeAncestors(e,t,n,"append"),r=s.appendChild(e.parentNode.removeChild(e));return s.id==n.id&&1==r.nodeType&&(r.style.paddingTop="0px",r.style.marginTop="0px"),r}function getElementRelativeTop(e,t){var n=0;if(e.offsetParent)for(;e.offsetParent;)n+=e.offsetTop,e=e.offsetParent;var s=0;if(t.offsetParent)for(;t.offsetParent;)s+=t.offsetTop,t=t.offsetParent;return n-s}var cssCache=new Object,splitableTags=new Array("P","DIV","SPAN","BLOCKQUOTE","ADDRESS","PRE","A","EM","I","STRONG","B","CITE","OL","UL","LI"),pseudoCSSRules=new Object,ut=new CSS3Utility,debug=ut.debug;if(document.location.search.match("mode=debug"))var isDebug=!0;else var isDebug=!1;var bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,documentReady=!1;ut.XBrowserAddEventHandler(window,"load",function(){documentReady=!0,processElements()}),loadStylesheets()}function CSS3Utility(){this.handlerList=new Array}document.getElementById("menu-toggle").addEventListener("touchstart",function(){document.body.className="open"==document.body.className?"":"open"},!1);var body=$("body"),toggle=document.getElementById("menu-toggle"),scroll=$(".top-scroll-wrap"),hammertime=$("#page-wrapper").hammer(),pwrapper=$("#page-wrapper"),els=$("body > div, footer, .top-scroll-wrap"),$els=$("body,body > div, #page-wrapper, #menu-toggle,#slideout,footer, .top-scroll-wrap");body.addClass("close"),Hammer(hammertime).on("touch swiperight",function(e){e.gesture.preventDefault(),document.body.className="open"==document.body.className?"":"open"}),Hammer(hammertime).on("touch swipeleft",function(e){e.gesture.preventDefault(),document.body.className="open"==document.body.className?"close":""}),Hammer(toggle).on("tap doubletap",function(e){e.gesture.preventDefault(),document.body.className="open"==document.body.className?"close":"open"}),$("a[href^=#]").on("click",function(e){e.preventDefault(),history.pushState({},"",this.href)});var bHeight=$("body").height(),bh=$("body").width(),width=bh-75;$("#slideout_inner, #slideout_inner ul").css({height:bHeight+20+"px"}),setTimeout(fader,1e3),init(),$(window).resize(function(){resize()});var active=$("ul.team li.active"),id=active.attr("rel");$("ul.member-bgs li[rel='"+id+"']").addClass("active"),$("ul.team li").live("click",function(){$("ul.facts, div.meet").removeClass("active"),$("div.meet").addClass("waiting").removeClass("active"),$("#sidebar span.more").addClass("hidden");var e=$(this).attr("rel");$(this).data("name"),$("ul.member-bgs li").removeClass("active"),$("ul.member-bgs li[rel='"+e+"']").addClass("active"),$("ul.facts[rel='"+e+"']").addClass("active"),$("ul.team li").removeClass("active"),$(this).addClass("active")}),navWidth(),$(window).resize(function(){navWidth()}),CSS3Utility.prototype.cssQuery=function(){function e(e,s){if(!e)return[];var r=arguments.callee.caching&&!s;s=s?s.constructor==Array?s:[s]:[document],f=!1;var o=t(e).split(","),l=[];for(var i in o){e=n(o[i]);for(var d,u,c=0,p="",g=s;c<e.length;)d=e[c++],u=e[c++],p+=d+u,g=r&&R[p]?R[p]:a(g,d,u),r&&(R[p]=g);l=l.concat(g)}return l}function t(e){return e.replace(b,C).replace(o.ALL,o.ID).replace(S,y)}function n(e){return h.test(e)&&(e=" "+e),e.match(m)||[]}function s(e){return T.test(e)?e:"'"+e+"'"}function r(e){return T.test(e)?e.slice(1,-1):e}function o(e,t,n){this.id=P.length;var o="element.";switch(e.toLowerCase()){case"id":o+="id";break;case"class":o+="className";break;default:o+="getAttribute('"+e+"')"}switch(t){case"=":o+="=="+s(n);break;case"~=":o="/(^|\\s)"+r(n)+"(\\s|$)/.test("+o+")";break;case"|=":o="/(^|-)"+r(n)+"(-|$)/.test("+o+")"}p(P,new Function("element","return "+o))}function a(e,t,n){var s="";v.test(n)&&(n=n.split("|"),s=n[0],n=n[1]);var r,o=[];switch(t){case" ":for(r in e)if("function"!=typeof e[r])for(var a=E(e[r],n,s),d=0;d<a.length;d++)!c(a[d])||s&&!i(a[d],s)||p(o,a[d]);break;case">":for(r in e)for(var a=e[r].childNodes,d=0;d<a.length;d++)l(a[d],n,s)&&p(o,a[d]);break;case"+":for(r in e){var f=u(e[r]);f&&l(f,n,s)&&p(o,f)}break;case"~":for(r in e)for(var f=e[r];f=u(f);)f&&l(f,n,s)&&p(o,f);break;case".":n=new RegExp("(^|\\s)"+n+"(\\s|$)");for(r in e)n.test(e[r].className)&&p(o,e[r]);break;case"#":for(r in e)e[r].id==n&&p(o,e[r]);break;case"@":n=P[n];for(r in e)n(e[r])&&p(o,e[r]);break;case":":n=$[n];for(r in e)n(e[r])&&p(o,e[r])}return o}function l(e,t,n){return n&&!i(e,n)?!1:"*"==t?c(e):f?e.tagName==t:e.tagName==t.toUpperCase()}function i(e,t){return e[I]==t}function d(e){for(;(e=e.previousSibling)&&!c(e);)continue;return e}function u(e){for(;(e=e.nextSibling)&&!c(e);)continue;return e}function c(e){return Boolean(e.nodeType==w&&"!"!=e.tagName)}function p(e,t){e[e.length]=t}var f,g="1.0.1",h=/^[^>\+~\s]/,m=/[\s>\+~:@#\.]|[^\s>\+~:@#\.]+/g,v=/\|/,S=/([\s>\+~\,]|^)([\.:#@])/g,y="$1*$2",b=/^\s+|\s*([\+\,>\s;:])\s*|\s+$/g,C="$1",w=1,N=3,x=/MSIE/.test(navigator.appVersion),R={};e.caching=!1,e.reset=function(){R={}},e.toString=function(){return"function cssQuery() {\n  [version "+g+"]\n}"};var $={link:function(e){for(var t=0;t<document.links;t++)if(document.links[t]==e)return!0},visited:function(){},"first-child":function(e){return!d(e)},"last-child":function(e){return!u(e)},root:function(e){var t=e.ownerDocument||e.document;return Boolean(e==t.documentElement)},empty:function(e){for(var t=0;t<e.childNodes.length;t++)if(c(e.childNodes[t])||e.childNodes[t].nodeType==N)return!1;return!0}},T=/([\'\"])[^\1]*\1/,P=[];o.prototype.toString=function(){return o.PREFIX+this.id},o.PREFIX="@",o.ALL=/\[([^~|=\]]+)([~|]?=?)([^\]]+)?\]/g,o.ID=function(e,t,n,s){return new o(t,n,s)};var E=x?function(e,t){return"*"==t&&e.all?e.all:e.getElementsByTagName(t)}:function(e,t,n){return n?e.getElementsByTagNameNS("*",t):e.getElementsByTagName(t)},I=x?"scopeName":"prefix";if("i".replace(/i/,function(){return""})){var L=String.prototype.replace,V=function(e,t){for(var n,s="",r=this;n=e.exec(r);)s+=r.slice(0,n.index)+t(n[0],n[1],n[2],n[3],n[4]),r=r.slice(n.lastIndex);return s+r};String.prototype.replace=function(e,t){return this.replace="function"==typeof t?V:L,this.replace(e,t)}}return e}(),CSS3Utility.prototype.XBrowserAddEventHandler=function(target,eventName,handlerName){if(target){if(target.addEventListener)target.addEventListener(eventName,function(e){eval(handlerName)(e)},!1);else if(target.attachEvent)target.attachEvent("on"+eventName,function(e){eval(handlerName)(e)});else{var originalHandler=target["on"+eventName];target["on"+eventName]=originalHandler?function(e){originalHandler(e),eval(handlerName)(e)}:eval(handlerName)}var l=this.handlerList.length;this.handlerList[l]=new Array(2),this.handlerList[l][0]=target.id,this.handlerList[l][1]=eventName}},CSS3Utility.prototype.getPseudoCssRules=function(e,t){this.cssRules=new Array;for(var n=e.replace("-","-")+"[\\s]*:[\\s]*([^;}]*)[;}]",s=new RegExp(n,"g"),r=s.exec(t),o=0;r;){var a=t.substr(0,t.substr(0,t.indexOf(r[0])).lastIndexOf("{")),l=a.substr(a.lastIndexOf("}")+1).replace(/^\s*|\s*$/g,"");this.cssRules[o]=new Object,this.cssRules[o].selectorText=l,this.cssRules[o].property=e,this.cssRules[o].value=r[1].replace(/(\r?\n)*/g,""),o++,r=s.exec(t)}},CSS3Utility.prototype.randomId=function(){for(var e="",t=0;6>t;t++)e+=String.fromCharCode(97+Math.floor(24*Math.random()));return e},CSS3Utility.prototype.debug=function(e){var t=document.getElementById("debugOutput");"undefined"!=typeof t&&t&&(t.innerHTML+=e)};var css3MC=new CSS3MultiColumn});