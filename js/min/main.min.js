jQuery(function($){function init(){var e=$("header#masthead").height(),t=$(window).height(),s=$("footer").height();$("#primary").height();var r=$("article.page").height(),n=$("ul.bonus").height(),a=e+r,i=t-s,l=t-s;$("#primary").css("minHeight",n+80+"px"),$(".top-scroll-wrap").css("maxHeight",a+0+"px"),$(".top-scroll-wrap").css("height",i-20+"px"),$(".top-scroll").css("height",l-20+"px")}function fader(){var e=$(".top-scroll-wrap").height(),t=$(".top-scroll").height();t>e?$("span.fade").addClass("hidden"):$("span.fade").removeClass("hidden")}function resize(){var e=$("header#masthead").height(),t=$(window).height(),s=$("footer").height();$("#primary").height();var r=$("article.page").height(),n=e+r,a=t-s,i=t-s;$(".top-scroll-wrap").css("maxHeight",n+30+"px"),$(".top-scroll-wrap").css("height",a-20+"px"),$(".top-scroll").css("height",i-20+"px"),fader()}function navWidth(){var e=$("footer div.inner").width();$(".ie8 footer div.inner nav#footer-navigation").css("width",e-200+"px")}function CSS3MultiColumn(){function loadStylesheets(){if(document.styleSheets){for(var e=0;e<document.styleSheets.length;e++)cssCache[document.styleSheets[e].href]=!1;for(var e=0;e<document.styleSheets.length;e++)loadCssCache(document.styleSheets[e],"parseStylesheets")}else if(document.getElementsByTagName){for(var t=document.getElementsByTagName("link"),e=0;e<t.length;e++)cssCache[t[e].href]=!1;for(var e=0;e<t.length;e++)loadCssCache(t[e],"parseStylesheets")}}function loadCssCache(s,callback){if(s.href&&s.cssText&&(cssCache[s.href]=s.cssText,eval(callback)()),s.href&&"undefined"!=typeof XMLHttpRequest){var xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&("undefined"==typeof xmlhttp.status||200==xmlhttp.status||304==xmlhttp.status)&&(cssCache[s.href]=xmlhttp.responseText,eval(callback)())},xmlhttp.open("GET",s.href,!0),xmlhttp.send(null)}}function parseStylesheets(){var e=!0;for(var t in cssCache)0!=cssCache[t]?parseStylesheet(cssCache[t]):e=!1;e&&processElements()}function parseStylesheet(e){for(var t=new ut.getPseudoCssRules("column-count",e),s=0;t&&s<t.cssRules.length;s++)pseudoCSSRules[t.cssRules[s].selectorText]||(pseudoCSSRules[t.cssRules[s].selectorText]=new Object),pseudoCSSRules[t.cssRules[s].selectorText]["column-count"]=t.cssRules[s].value;t=new ut.getPseudoCssRules("column-width",e);for(var s=0;t&&s<t.cssRules.length;s++)pseudoCSSRules[t.cssRules[s].selectorText]||(pseudoCSSRules[t.cssRules[s].selectorText]=new Object),pseudoCSSRules[t.cssRules[s].selectorText]["column-width"]=t.cssRules[s].value;t=new ut.getPseudoCssRules("column-gap",e);for(var s=0;t&&s<t.cssRules.length;s++)pseudoCSSRules[t.cssRules[s].selectorText]||(pseudoCSSRules[t.cssRules[s].selectorText]=new Object),pseudoCSSRules[t.cssRules[s].selectorText]["column-gap"]=t.cssRules[s].value;t=new ut.getPseudoCssRules("column-rule",e);for(var s=0;t&&s<t.cssRules.length;s++)pseudoCSSRules[t.cssRules[s].selectorText]||(pseudoCSSRules[t.cssRules[s].selectorText]=new Object),pseudoCSSRules[t.cssRules[s].selectorText]["column-rule"]=t.cssRules[s].value}function processElements(){if(documentReady)for(var e in pseudoCSSRules){debug(e+" cc:"+pseudoCSSRules[e]["column-count"]+" cw:"+pseudoCSSRules[e]["column-width"]+" cr:"+pseudoCSSRules[e]["column-rule"]+" cg:"+pseudoCSSRules[e]["column-gap"]);for(var t=ut.cssQuery(e),s=0;s<t.length;s++)processElement(t[s],pseudoCSSRules[e]["column-count"],pseudoCSSRules[e]["column-width"],pseudoCSSRules[e]["column-gap"],pseudoCSSRules[e]["column-rule"])}}function processElement(e,t,s,r,n){var a,i,l=0;if(e.clientWidth&&0!=e.clientWidth){var o;e.currentStyle?o=parseInt(e.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(o=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(o)&&(o=0),i=(e.clientWidth-o).toString()+"px"}else if(e.scrollWidth){var d,o;e.currentStyle?o=parseInt(e.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(o=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(o)&&(o=0),e.currentStyle?d=parseInt(e.currentStyle.borderLeftWidth.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.borderRightWidth.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(d=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("border-left-width").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("border-right-width").replace(/[\D]*/gi,""))),isNaN(d)&&(d=0),i=(e.scrollWidth-o-d).toString()+"px"}else i="99%";var c=parseInt(i.replace(/[\D]*/gi,""));a=s&&"auto"!=s?s.replace(/[\d]*/gi,""):i.replace(/[\d]*/gi,""),a||(a="px"),r=r?parseInt(r.replace(/[\D]*/gi,"")):"%"==a?1:15,n&&"none"!=n&&(r=Math.floor(r/2),l=r+parseInt(n.substring(n.search(/\d/),n.search(/\D/)))),s&&"auto"!=s?(s=parseInt(s.replace(/[\D]*/gi,"")),t&&"auto"!=t||(t=Math.floor(c/(s+r)))):s=(c-(r+l)*(t-1))/t,s-=1;var u=document.createElement("div"),p=e.parentNode;u=p.insertBefore(u,e);var f=p.removeChild(e);f=u.appendChild(f),u.className=f.className,f.className="",f.id=ut.randomId(),f.style.width=s.toString()+a,"undefined"!=typeof f.style.styleFloat&&(f.style.styleFloat="left"),"undefined"!=typeof f.style.cssFloat&&(f.style.cssFloat="left");var h=Math.floor(f.offsetHeight/t)+14;u.id||(u.id=ut.randomId());for(var g=1,m=1;t>m&&f&&t+5>g;m++)bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(f,h*m,u),isDebug&&(bestSplitPoint.style.border="1px solid #00FF00"),bestSplitPoint&&!isElementSplitable(bestSplitPoint)?(h=getElementRelativeTop(bestSplitPoint,u)+bestSplitPoint.offsetHeight+10,m=1,debug("reset new Height = "+h+" relativetop="+getElementRelativeTop(bestSplitPoint,u)+" offsetHeight= "+bestSplitPoint.offsetHeight)):bestSplitPoint||debug("No split point found with "+h),g++;debug("<table><tr><td>Avail. Width</td><td>"+c+"</td><td>Units</td><td>"+a+"</td></tr><tr><td>column_width</td><td>"+s+"</td><td>column_count</td><td>"+t+"</td></tr><tr><td>column_gap</td><td>"+r+"</td><td>column_rule</td><td>"+n+"</td></tr><tr><td>New Height</td><td>"+h+"</td><td></td><td></td></tr></table>");for(var m=1;t>m&&f;m++){if(bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(f,h,u),bestSplitPoint&&isElementSplitable(bestSplitPoint)&&f.id!=bestSplitPoint.id){var v=bestSplitPoint;isDebug&&(secondSplitPoint.style.border="1px dotted #00F")}else var v=secondSplitPoint;if(!v)return debug("<hr />No split point found for "+f.tagName+" "+h),void 0;isDebug&&(v.style.border="1px solid #F00");var S=f.cloneNode(!1);S.id=ut.randomId(),f.parentNode.insertBefore(S,f.nextSibling),S.style.paddingLeft=r+a,n&&"none"!=n&&(S.style.borderLeft=n,f.style.paddingRight=r+a),document.all&&!window.opera&&(f.style.height=h+"px"),f.style.minHeight=h+"px",createNodeAncestors(v,f,S,"append");for(var y=v;y&&y.id!=f.id;){for(var C=y.nextSibling;C;)moveNode(C,f,S),C=y.nextSibling;y=y.parentNode}for(var b=splitElement(v,h-getElementRelativeTop(v,u),f,S),p=v.parentNode;p&&p.id!=f.id;){for(var w=p.firstChild;w;)1==w.nodeType&&0==w.childNodes.length||3==w.nodeType&&""==w.nodeValue.replace(/[\u0020\u0009\u000A]*/,"")?(p.removeChild(w),w=p.firstChild):w=w.nextSibling;p=p.parentNode}if(b&&(v=f.lastChild,v&&document.defaultView&&"justify"==document.defaultView.getComputedStyle(v,"").getPropertyValue("text-align")||v.currentStyle&&"justify"==v.currentStyle.textAlign)){var N=document.createTextNode(" "+b.replace(/./g,"Â ")),x=document.createElement("span");v.appendChild(x),x.style.lineHeight="1px",x.appendChild(N)}f=S}f&&(document.all&&!window.opera&&(f.style.height=h+"px"),f.style.minHeight=h+"px");var R=document.createElement("div");R.style.clear="left",R.appendChild(document.createTextNode(" ")),u.appendChild(R),navigator.userAgent.toLowerCase().indexOf("safari")+1&&(u.innerHTML+=" ")}function findSplitPoint(e,t,s){if(1==e.nodeType){var r=getElementRelativeTop(e,s),n=r+e.offsetHeight;if(t>r&&n>t){if(bestSplitPoint=e,isElementSplitable(e))for(var a=0;a<e.childNodes.length;a++)findSplitPoint(e.childNodes[a],t,s);return}t>=n&&n>=secondSplitBottom&&(secondSplitBottom=n,secondSplitPoint=e)}}function isElementSplitable(e){if(e.tagName)for(var t=e.tagName.toUpperCase(),s=0;s<splitableTags.length;s++)if(t==splitableTags[s])return!0;return!1}function splitElement(e,t,s,r){for(var n=e.lastChild;n;){if(3==n.nodeType){for(var a="dummmy",i="";e.offsetHeight>t+2&&""!=a;)a=stripOneLine(n),i=a+i;if(""!=i){var l=createNodeAncestors(n,s,r,"insertBefore");l.insertBefore(document.createTextNode(i),l.firstChild)}if(""!=n.nodeValue)break;n.parentNode.removeChild(n)}else{var l=createNodeAncestors(n,s,r,"insertBefore");l.insertBefore(n.parentNode.removeChild(n),l.firstChild)}n=e.lastChild}return a}function stripOneLine(e){for(;e&&3!=e.nodeType;)e=e.firstChild;if(e){var t=e.parentNode,s=t.offsetHeight;if(!s)return"";for(var r=e.nodeValue,n=e.nodeValue.lastIndexOf(" ");-1!=n&&t.offsetHeight==s;)e.nodeValue=e.nodeValue.substr(0,n),n=e.nodeValue.lastIndexOf(" "),-1==n&&(n=e.nodeValue.lastIndexOf("\n"));return t.offsetHeight==s&&(e.nodeValue=""),r.substr(e.nodeValue.length)}}function createNodeAncestors(e,t,s,r){for(var n=new Array,a=s,i=e.parentNode;i&&i.id!=t.id;)n[n.length]=i,i.id||(i.id=ut.randomId()),i=i.parentNode;for(var l=n.length-1;l>=0;l--){for(var o=0;o<a.childNodes.length&&(3==a.childNodes[o].nodeType||!a.childNodes[o].className.match(n[l].id+"-css3mc"));o++);if(o==a.childNodes.length){if(a="append"==r?a.appendChild(document.createElement(n[l].tagName)):a.insertBefore(document.createElement(n[l].tagName),a.firstChild),a.className=n[l].className+" "+n[l].id+"-css3mc",a.style.marginTop="0",a.style.paddingTop="0","OL"==a.tagName.toUpperCase()&&1==e.nodeType&&"LI"==e.tagName.toUpperCase()){for(var d=e.previousSibling,c=0;d;)1==d.nodeType&&"LI"==d.tagName.toUpperCase()&&c++,d=d.previousSibling;a.setAttribute("start",c)}}else if(a=a.childNodes[o],"OL"==a.tagName.toUpperCase()&&(-1==a.start||1==a.start)&&1==e.nodeType&&"LI"==e.tagName.toUpperCase()){for(var d=e.previousSibling,c=0;d;)1==d.nodeType&&"LI"==d.tagName.toUpperCase()&&c++,d=d.previousSibling;a.setAttribute("start",c)}}return a}function moveNode(e,t,s){var r=createNodeAncestors(e,t,s,"append"),n=r.appendChild(e.parentNode.removeChild(e));return r.id==s.id&&1==n.nodeType&&(n.style.paddingTop="0px",n.style.marginTop="0px"),n}function getElementRelativeTop(e,t){var s=0;if(e.offsetParent)for(;e.offsetParent;)s+=e.offsetTop,e=e.offsetParent;var r=0;if(t.offsetParent)for(;t.offsetParent;)r+=t.offsetTop,t=t.offsetParent;return s-r}var cssCache=new Object,splitableTags=new Array("P","DIV","SPAN","BLOCKQUOTE","ADDRESS","PRE","A","EM","I","STRONG","B","CITE","OL","UL","LI"),pseudoCSSRules=new Object,ut=new CSS3Utility,debug=ut.debug;if(document.location.search.match("mode=debug"))var isDebug=!0;else var isDebug=!1;var bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,documentReady=!1;ut.XBrowserAddEventHandler(window,"load",function(){documentReady=!0,processElements()}),loadStylesheets()}function CSS3Utility(){this.handlerList=new Array}setTimeout(fader,1e3),init(),$(window).resize(function(){resize()});var active=$("ul.team li.active"),id=active.attr("rel");$("ul.member-bgs li[rel='"+id+"']").addClass("active"),$("ul.team li").live("click",function(){$("ul.facts, div.meet").removeClass("active"),$("div.meet").addClass("waiting").removeClass("active"),$("#sidebar span.more").addClass("hidden");var e=$(this).attr("rel");$(this).data("name"),$("ul.member-bgs li").removeClass("active"),$("ul.member-bgs li[rel='"+e+"']").addClass("active"),$("ul.facts[rel='"+e+"']").addClass("active"),$("ul.team li").removeClass("active"),$(this).addClass("active")}),navWidth(),$(window).resize(function(){navWidth()}),CSS3Utility.prototype.cssQuery=function(){function e(e,r){if(!e)return[];var n=arguments.callee.caching&&!r;r=r?r.constructor==Array?r:[r]:[document],f=!1;var a=t(e).split(","),l=[];for(var o in a){e=s(a[o]);for(var d,c,u=0,p="",h=r;u<e.length;)d=e[u++],c=e[u++],p+=d+c,h=n&&R[p]?R[p]:i(h,d,c),n&&(R[p]=h);l=l.concat(h)}return l}function t(e){return e.replace(C,b).replace(a.ALL,a.ID).replace(S,y)}function s(e){return g.test(e)&&(e=" "+e),e.match(m)||[]}function r(e){return P.test(e)?e:"'"+e+"'"}function n(e){return P.test(e)?e.slice(1,-1):e}function a(e,t,s){this.id=$.length;var a="element.";switch(e.toLowerCase()){case"id":a+="id";break;case"class":a+="className";break;default:a+="getAttribute('"+e+"')"}switch(t){case"=":a+="=="+r(s);break;case"~=":a="/(^|\\s)"+n(s)+"(\\s|$)/.test("+a+")";break;case"|=":a="/(^|-)"+n(s)+"(-|$)/.test("+a+")"}p($,new Function("element","return "+a))}function i(e,t,s){var r="";v.test(s)&&(s=s.split("|"),r=s[0],s=s[1]);var n,a=[];switch(t){case" ":for(n in e)if("function"!=typeof e[n])for(var i=E(e[n],s,r),d=0;d<i.length;d++)!u(i[d])||r&&!o(i[d],r)||p(a,i[d]);break;case">":for(n in e)for(var i=e[n].childNodes,d=0;d<i.length;d++)l(i[d],s,r)&&p(a,i[d]);break;case"+":for(n in e){var f=c(e[n]);f&&l(f,s,r)&&p(a,f)}break;case"~":for(n in e)for(var f=e[n];f=c(f);)f&&l(f,s,r)&&p(a,f);break;case".":s=new RegExp("(^|\\s)"+s+"(\\s|$)");for(n in e)s.test(e[n].className)&&p(a,e[n]);break;case"#":for(n in e)e[n].id==s&&p(a,e[n]);break;case"@":s=$[s];for(n in e)s(e[n])&&p(a,e[n]);break;case":":s=T[s];for(n in e)s(e[n])&&p(a,e[n])}return a}function l(e,t,s){return s&&!o(e,s)?!1:"*"==t?u(e):f?e.tagName==t:e.tagName==t.toUpperCase()}function o(e,t){return e[I]==t}function d(e){for(;(e=e.previousSibling)&&!u(e);)continue;return e}function c(e){for(;(e=e.nextSibling)&&!u(e);)continue;return e}function u(e){return Boolean(e.nodeType==w&&"!"!=e.tagName)}function p(e,t){e[e.length]=t}var f,h="1.0.1",g=/^[^>\+~\s]/,m=/[\s>\+~:@#\.]|[^\s>\+~:@#\.]+/g,v=/\|/,S=/([\s>\+~\,]|^)([\.:#@])/g,y="$1*$2",C=/^\s+|\s*([\+\,>\s;:])\s*|\s+$/g,b="$1",w=1,N=3,x=/MSIE/.test(navigator.appVersion),R={};e.caching=!1,e.reset=function(){R={}},e.toString=function(){return"function cssQuery() {\n  [version "+h+"]\n}"};var T={link:function(e){for(var t=0;t<document.links;t++)if(document.links[t]==e)return!0},visited:function(){},"first-child":function(e){return!d(e)},"last-child":function(e){return!c(e)},root:function(e){var t=e.ownerDocument||e.document;return Boolean(e==t.documentElement)},empty:function(e){for(var t=0;t<e.childNodes.length;t++)if(u(e.childNodes[t])||e.childNodes[t].nodeType==N)return!1;return!0}},P=/([\'\"])[^\1]*\1/,$=[];a.prototype.toString=function(){return a.PREFIX+this.id},a.PREFIX="@",a.ALL=/\[([^~|=\]]+)([~|]?=?)([^\]]+)?\]/g,a.ID=function(e,t,s,r){return new a(t,s,r)};var E=x?function(e,t){return"*"==t&&e.all?e.all:e.getElementsByTagName(t)}:function(e,t,s){return s?e.getElementsByTagNameNS("*",t):e.getElementsByTagName(t)},I=x?"scopeName":"prefix";if("i".replace(/i/,function(){return""})){var L=String.prototype.replace,V=function(e,t){for(var s,r="",n=this;s=e.exec(n);)r+=n.slice(0,s.index)+t(s[0],s[1],s[2],s[3],s[4]),n=n.slice(s.lastIndex);return r+n};String.prototype.replace=function(e,t){return this.replace="function"==typeof t?V:L,this.replace(e,t)}}return e}(),CSS3Utility.prototype.XBrowserAddEventHandler=function(target,eventName,handlerName){if(target){if(target.addEventListener)target.addEventListener(eventName,function(e){eval(handlerName)(e)},!1);else if(target.attachEvent)target.attachEvent("on"+eventName,function(e){eval(handlerName)(e)});else{var originalHandler=target["on"+eventName];target["on"+eventName]=originalHandler?function(e){originalHandler(e),eval(handlerName)(e)}:eval(handlerName)}var l=this.handlerList.length;this.handlerList[l]=new Array(2),this.handlerList[l][0]=target.id,this.handlerList[l][1]=eventName}},CSS3Utility.prototype.getPseudoCssRules=function(e,t){this.cssRules=new Array;for(var s=e.replace("-","-")+"[\\s]*:[\\s]*([^;}]*)[;}]",r=new RegExp(s,"g"),n=r.exec(t),a=0;n;){var i=t.substr(0,t.substr(0,t.indexOf(n[0])).lastIndexOf("{")),l=i.substr(i.lastIndexOf("}")+1).replace(/^\s*|\s*$/g,"");this.cssRules[a]=new Object,this.cssRules[a].selectorText=l,this.cssRules[a].property=e,this.cssRules[a].value=n[1].replace(/(\r?\n)*/g,""),a++,n=r.exec(t)}},CSS3Utility.prototype.randomId=function(){for(var e="",t=0;6>t;t++)e+=String.fromCharCode(97+Math.floor(24*Math.random()));return e},CSS3Utility.prototype.debug=function(e){var t=document.getElementById("debugOutput");"undefined"!=typeof t&&t&&(t.innerHTML+=e)};var css3MC=new CSS3MultiColumn});